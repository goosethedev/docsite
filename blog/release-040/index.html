<!DOCTYPE html>
<html>
  <head>
    <title>Dioxus | Fullstack crossplatform app framework for Rust</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
  <link rel="preload" as="script" href="/./assets/dioxus_docs_site-b06236b6360b30c3.js" crossorigin><link rel="preload" as="fetch" type="application/wasm" href="/./assets/dioxus_docs_site_bg-439d6f8277d3068c.wasm" crossorigin><meta name="description" content="Dioxus | A fullstack crossplatform app framework for Rust. Supports Web, Desktop, SSR, Liveview, and Mobile."/><meta content="Dioxus | Fullstack crossplatform app framework for Rust" property="og:title"/><meta content="website" property="og:type"/><meta content="A fullstack crossplatform app framework for Rust. Supports Web, Desktop, SSR, Liveview, and Mobile." property="og:description"/><meta content="https://dioxuslabs.com" property="og:url"/><meta content="https://dioxuslabs.com/assets/static/opengraph.png" property="og:image"/><meta name="twitter:title" content="Dioxus - Fullstack crossplatform app framework for Rust"/><meta name="twitter:description" content="Dioxus | A fullstack crossplatform app framework for Rust. Supports Web, Desktop, SSR, Liveview, and Mobile."/><meta name="twitter:image" content="https://dioxuslabs.com/assets/static/opengraph.png"/><meta name="twitter:card" content="summary_large_image"/><link rel="icon shortcut" href="/assets/favicon-c30fbcd6374b6976.png" type="image/png"/><link rel="stylesheet" href="/assets/githubmarkdown-4223f290a2da9a42.css" type="text/css"/><link rel="stylesheet" href="/assets/tailwind-f23425ce69431885.css" type="text/css"/><link rel="stylesheet" href="/assets/main-a015970858515786.css" type="text/css"/><link rel="stylesheet" href="/assets/material-79969dcfce848612.css" type="text/css"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css" type="text/css"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="false"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Arimo:wght@100;400;600&display=swap"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&family=Lexend:wght@100;400&family=M+PLUS+1:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"/><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/><script src="https://www.googletagmanager.com/gtag/js?id=G-EBE72MVZ1B" async=true></script><script src="/assets/gtag-7fdec9a825e4256f.js" type="text/javascript" async=true></script></head>
  <body>
    <div id="main"><script>window.hydrate_queue=[];window.dx_hydrate=(id,data,debug_types,debug_locations)=>{const decoded=atob(data),bytes=Uint8Array.from(decoded,(c)=>c.charCodeAt(0));if(window.hydration_callback)window.hydration_callback(id,bytes,debug_types,debug_locations);else window.hydrate_queue.push([id,bytes,debug_types,debug_locations])};
</script><!--placeholder0--><!--placeholder1--><!--placeholder2--><!--placeholder3--><!--placeholder4--><!--placeholder5--><!--placeholder6--><!--placeholder7--><!--placeholder8--><!--placeholder9--><!--placeholder10--><!--placeholder11--><!--placeholder12--><!--placeholder13--><!--placeholder14--><!--placeholder15--><!--placeholder16--><!--placeholder17--><!--placeholder18--><!--placeholder19--><!--placeholder20--><!--placeholder21--><!--placeholder22--><!--placeholder23--><!--placeholder24--><div class="bg-white dark:bg-black min-h-screen" data-node-hydration="25"><div class="fixed top-0 left-0 z-50 block bg-gray-100/70 dark:bg-gray-950/70 backdrop-blur-sm overflow-y-hidden search-modal-animated   dioxus-hide" style="height:100vh;width:100vw;" data-node-hydration="26,click:1"><div class="max-w-screen-sm mx-auto h-full flex flex-col"><div class="h-40"></div><div class="bg-white dark:bg-ideblack rounded-xl max-h-[calc(100%-8rem)] overflow-y-auto text-gray-800 dark:text-gray-100 border dark:border-[#a4a9ac7d]"><div class="flex flex-col flex-grow border-b p-2 gap-2 border-inherit"><div class="my-auto flex flex-row items-center pl-2"><div class="dark:invert h-5"><span class="material-icons material-icons-outlined material-icons-round material-icons-sharp material-icons-two-tone md-48" style="font-size: 20px; color: rgba(0, 0, 0, 0.54); user-select: none;" data-node-hydration="27"><!--node-id28-->search<!--#--></span></div><!--placeholder29--></div></div><ul class="p-2 flex flex-col" data-node-hydration="30"><li class="w-full rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ease-in-out" data-node-hydration="31"><a href="/learn/0.6/guide/#" class="flex flex-row items-center gap-x-2 p-2" data-node-hydration="32,click:1"><div class="flex flex-col mt-1 mb-1" data-node-hydration="33"><span class="flex flex-row items-center gap-x-1"><div class="style_itemPrefix__HSCJc" data-node-hydration="34"><svg data-testid="geist-icon" height="16" viewBox="0 0 16 16" width="16" stroke-linejoin="round" style="color: currentcolor;"><path d="M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd"></path></svg></div><h2 class="dark:text-white ml-1"><!--node-id35-->Tutorial<!--#--></h2></span><!--placeholder36--></div></a></li><li class="w-full rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ease-in-out" data-node-hydration="37"><a href="/learn/0.6/guides/web/#" class="flex flex-row items-center gap-x-2 p-2" data-node-hydration="38,click:1"><div class="flex flex-col mt-1 mb-1" data-node-hydration="39"><span class="flex flex-row items-center gap-x-1"><div class="style_itemPrefix__HSCJc" data-node-hydration="40"><svg data-testid="geist-icon" height="16" viewBox="0 0 16 16" width="16" stroke-linejoin="round" style="color: currentcolor;"><path d="M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd"></path></svg></div><h2 class="dark:text-white ml-1"><!--node-id41-->Web<!--#--></h2></span><!--placeholder42--></div></a></li><li class="w-full rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ease-in-out" data-node-hydration="43"><a href="/learn/0.6/guides/desktop/#" class="flex flex-row items-center gap-x-2 p-2" data-node-hydration="44,click:1"><div class="flex flex-col mt-1 mb-1" data-node-hydration="45"><span class="flex flex-row items-center gap-x-1"><div class="style_itemPrefix__HSCJc" data-node-hydration="46"><svg data-testid="geist-icon" height="16" viewBox="0 0 16 16" width="16" stroke-linejoin="round" style="color: currentcolor;"><path d="M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd"></path></svg></div><h2 class="dark:text-white ml-1"><!--node-id47-->Desktop<!--#--></h2></span><!--placeholder48--></div></a></li><li class="w-full rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ease-in-out" data-node-hydration="49"><a href="/learn/0.6/guides/mobile/#" class="flex flex-row items-center gap-x-2 p-2" data-node-hydration="50,click:1"><div class="flex flex-col mt-1 mb-1" data-node-hydration="51"><span class="flex flex-row items-center gap-x-1"><div class="style_itemPrefix__HSCJc" data-node-hydration="52"><svg data-testid="geist-icon" height="16" viewBox="0 0 16 16" width="16" stroke-linejoin="round" style="color: currentcolor;"><path d="M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd"></path></svg></div><h2 class="dark:text-white ml-1"><!--node-id53-->Mobile<!--#--></h2></span><!--placeholder54--></div></a></li><li class="w-full rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ease-in-out" data-node-hydration="55"><a href="/learn/0.6/guides/fullstack/#" class="flex flex-row items-center gap-x-2 p-2" data-node-hydration="56,click:1"><div class="flex flex-col mt-1 mb-1" data-node-hydration="57"><span class="flex flex-row items-center gap-x-1"><div class="style_itemPrefix__HSCJc" data-node-hydration="58"><svg data-testid="geist-icon" height="16" viewBox="0 0 16 16" width="16" stroke-linejoin="round" style="color: currentcolor;"><path d="M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd"></path></svg></div><h2 class="dark:text-white ml-1"><!--node-id59-->Fullstack<!--#--></h2></span><!--placeholder60--></div></a></li><li class="w-full rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 ease-in-out" data-node-hydration="61"><a href="/learn/0.6/router/reference/#" class="flex flex-row items-center gap-x-2 p-2" data-node-hydration="62,click:1"><div class="flex flex-col mt-1 mb-1" data-node-hydration="63"><span class="flex flex-row items-center gap-x-1"><div class="style_itemPrefix__HSCJc" data-node-hydration="64"><svg data-testid="geist-icon" height="16" viewBox="0 0 16 16" width="16" stroke-linejoin="round" style="color: currentcolor;"><path d="M14.5 13.5V6.5V5.41421C14.5 5.149 14.3946 4.89464 14.2071 4.70711L9.79289 0.292893C9.60536 0.105357 9.351 0 9.08579 0H8H3H1.5V1.5V13.5C1.5 14.8807 2.61929 16 4 16H12C13.3807 16 14.5 14.8807 14.5 13.5ZM13 13.5V6.5H9.5H8V5V1.5H3V13.5C3 14.0523 3.44772 14.5 4 14.5H12C12.5523 14.5 13 14.0523 13 13.5ZM9.5 5V2.12132L12.3787 5H9.5ZM5.13 5.00062H4.505V6.25062H5.13H6H6.625V5.00062H6H5.13ZM4.505 8H5.13H11H11.625V9.25H11H5.13H4.505V8ZM5.13 11H4.505V12.25H5.13H11H11.625V11H11H5.13Z" fill-rule="evenodd" fill="currentColor" clip-rule="evenodd"></path></svg></div><h2 class="dark:text-white ml-1"><!--node-id65-->Typesafe Routing<!--#--></h2></span><!--placeholder66--></div></a></li></ul></div></div></div><header class="sticky top-0 z-30 bg-opacity-80 dark:text-gray-200 dark:bg-opacity-80 border-b border-stone-300 dark:border-stone-700 h-16 backdrop-blur-sm" data-node-hydration="67"><div class="py-2 px-2 max-w-screen-2xl mx-auto flex items-center justify-between text-sm leading-6 h-16"><div class="flex z-50 md:px-2 flex-1"><nav class="flex-grow md:flex-grow-0 flex flex-row items-center  text-md font-light leading-none text-slate-700 dark:text-white whitespace-nowrap md:gap-6" data-node-hydration="68"><a href="/" class="title-font font-medium items-center text-gray-900 flex flex-row gap-1" data-node-hydration="69,click:1"><img src="/assets/smalllogo-b1926fd214dc8427.png" class="h-6 w-auto" data-node-hydration="70"/><span class="text-xl dark:text-white leading-none hidden sm:block font-mono" data-node-hydration="71">DIOXUS</span></a><div class="flex-1 flex flex-row items-center md:space-x-6 justify-evenly"><a href="/learn/0.6/" class="leading-none hover:text-sky-500 dark:hover:text-sky-400 rounded fill-zinc-700 dark:fill-zinc-100" style="position:relative;" data-node-hydration="72,click:1"><!--node-id73-->Learn<!--#--></a><a href="/awesome" class="leading-none hover:text-sky-500 dark:hover:text-sky-400 rounded fill-zinc-700 dark:fill-zinc-100" style="position:relative;" data-node-hydration="74,click:1"><!--node-id75-->Awesome<!--#--></a><a href="/blog" class="leading-none hover:text-sky-500 dark:hover:text-sky-400 rounded fill-zinc-700 dark:fill-zinc-100" style="position:relative;" data-node-hydration="76,click:1"><!--node-id77-->Blog<!--#--></a></div></nav></div><div class="flex h-full justify-end ml-2 items-center gap-3 py-2"><button class="
            max-w-[12rem] items-center rounded
            p-1 text-left text-sm font-light leading-none border  border-gray-300

            hidden md:flex flex-row
            w-full sm:flex-1 md:w-full xl:max-w-[12rem]

            bg-gray-100 text-gray-400 hover:brightness-95
            dark:bg-ghdarkmetal dark:text-gray-300 dark:border-gray-700 h-full
            " data-node-hydration="78,click:1"><span class="h-4 px-1 dark:hidden"><span class="material-icons material-icons-outlined material-icons-round material-icons-sharp material-icons-two-tone md-48" style="font-size: 16px; color: rgba(0, 0, 0, 0.54); user-select: none;" data-node-hydration="79"><!--node-id80-->search<!--#--></span></span><span class="h-4 px-1 hidden dark:block"><span class="material-icons material-icons-outlined material-icons-round material-icons-sharp material-icons-two-tone md-48" style="font-size: 16px; color: rgba(255, 255, 255, 1); user-select: none;" data-node-hydration="81"><!--node-id82-->search<!--#--></span></span><span class="hidden content-center text-sm sm:flex flex-row w-60 justify-between"><span>Search...</span><span class="px-1 min-w-6
                border bg-gray-100 border-gray-300 rounded text-center text-base/[18px] text-[.75rem] align-middle
                dark:bg-ghdarkmetal dark:border-gray-700
                ">/</span></span></button><div tabindex="0" role="button" class="bg-gray-100 dark:bg-gray-700 dark:hover:bg-gray-500 md:hidden rounded-lg p-1 mr-2 my-3 h-8 flex items-center text-lg z-50 hidden" style="cursor:pointer;" data-node-hydration="83,click:1"><span class="material-icons material-icons-outlined material-icons-round material-icons-sharp material-icons-two-tone md-48" style="font-size: 24px; color: rgba(0, 0, 0, 0.54); user-select: none;" data-node-hydration="84"><!--node-id85-->menu<!--#--></span></div><div class="h-full  gap-3 hidden lg:flex"><div class="border-l border-gray-200 dark:border-gray-800 h-full"></div><div class="hidden lg:flex items-center gap-3"><label class="sr-only" id="headlessui-listbox-label-2">Theme</label><a href="https://crates.io/crates/dioxus" class="block text-gray-400 hover:text-gray-500 dark:hover:text-gray-300" rel="noopener noreferrer" target="_blank" data-node-hydration="86,click:1"><span class="sr-only" data-node-hydration="87">Dioxus on docs.rs</span><svg viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg" width="24" height="24" data-node-hydration="88"><path d="M290.8 48.6l78.4 29.7L288 109.5 206.8 78.3l78.4-29.7c1.8-.7 3.8-.7 5.7 0zM136 92.5l0 112.2c-1.3 .4-2.6 .8-3.9 1.3l-96 36.4C14.4 250.6 0 271.5 0 294.7L0 413.9c0 22.2 13.1 42.3 33.5 51.3l96 42.2c14.4 6.3 30.7 6.3 45.1 0L288 457.5l113.5 49.9c14.4 6.3 30.7 6.3 45.1 0l96-42.2c20.3-8.9 33.5-29.1 33.5-51.3l0-119.1c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-1.3-.5-2.6-.9-3.9-1.3l0-112.2c0-23.3-14.4-44.1-36.1-52.4l-96-36.4c-12.8-4.8-26.9-4.8-39.7 0l-96 36.4C150.4 48.4 136 69.3 136 92.5zM392 210.6l-82.4 31.2 0-89.2L392 121l0 89.6zM154.8 250.9l78.4 29.7L152 311.7 70.8 280.6l78.4-29.7c1.8-.7 3.8-.7 5.7 0zm18.8 204.4l0-100.5L256 323.2l0 95.9-82.4 36.2zM421.2 250.9c1.8-.7 3.8-.7 5.7 0l78.4 29.7L424 311.7l-81.2-31.1 78.4-29.7zM523.2 421.2l-77.6 34.1 0-100.5L528 323.2l0 90.7c0 3.2-1.9 6-4.8 7.3z" fill="currentColor" fill-rule="nonzero"></path></svg></a><a href="https://discord.gg/XgGxMSkvUM" class="block text-gray-400 hover:text-gray-500 dark:hover:text-gray-300" rel="noopener noreferrer" target="_blank" data-node-hydration="89,click:1"><span class="sr-only" data-node-hydration="90">Dioxus on Discord</span><svg width="24" height="24" viewBox="0 -28.5 256 256" preserveAspectRatio="xMidYMid" data-node-hydration="91"><g><path d="M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z" fill="currentColor" fill-rule="nonzero"></path></g></svg></a><a href="https://github.com/dioxuslabs/dioxus" class="flex flex-row items-center text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 gap-2" rel="noopener noreferrer" target="_blank" data-node-hydration="92,click:1"><span class="sr-only" data-node-hydration="93">Dioxus on GitHub</span><svg class="w-5 h-5" viewBox="0 0 16 16" aria-hidden="true" fill="currentColor" data-node-hydration="94"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg><span class="text-xs text" data-node-hydration="95"><!--node-id96-->24.5k<!--#--></span></a></div><div class="border-l border-gray-200 dark:border-gray-800 h-full"></div><div class="hidden lg:flex items-center gap-2 h-full"><label class="sr-only" id="headlessui-listbox-label-2">Theme</label><a href="/deploy" class="h-full flex flex-col justify-center text-center md:px-3 bg-white dark:bg-gray-300 border border-gray-200 dark:border-gray-700 text-sm md:text-sm rounded font-semibold text-gray-700 hover:brightness-95 dark:hover:brightness-105" data-node-hydration="97,click:1"><!--node-id98-->Deploy<!--#--></a><a href="/learn/0.6/#" class="md:px-3 h-full flex flex-col justify-center bg-blue-500 text-lg md:text-sm text-white rounded font-semibold hover:brightness-95 dark:hover:brightness-105" data-node-hydration="99,click:1"><!--node-id100-->Learn<!--#--></a></div></div></div></div></header><div><section class="text-gray-600 body-font pt-12 font-light w-full" data-node-hydration="101"><div class="flex flex-row justify-center pt-4 md:pt-[3.125rem] lg:gap-12"><div></div><div class="text-gray-600 dark:text-gray-300 body-font overflow-hidden container pb-12 max-w-screen-md px-4 grow min-h-[100vh] md:block"><div class="px-2 border-b border-gray-200 my-4 mb-8 pb-8  dark:text-white"><a href="/blog/" data-node-hydration="102,click:1"><p class="pb-12 text-sm flex flex-row gap-2 items-center" data-node-hydration="103"><svg viewBox="0 0 16 16" width="16" style="width: 12px; height: 12px; color: currentcolor;" data-testid="geist-icon" height="16" stroke-linejoin="round"><path d="M10.5 14.0607L9.96966 13.5303L5.14644 8.7071C4.75592 8.31658 4.75592 7.68341 5.14644 7.29289L9.96966 2.46966L10.5 1.93933L11.5607 2.99999L11.0303 3.53032L6.56065 7.99999L11.0303 12.4697L11.5607 13L10.5 14.0607Z" clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"></path></svg>Back to blog</p></a><h1 class="text-[2.75rem] font-semibold text-black dark:text-white"><!--node-id104-->Dioxus 0.4<!--#--></h1><p class="text-gray-500 text-sm pb-8 dark:text-white"><!--node-id105-->August 1, 2023<!--#--> - <!--node-id106-->Jonathan Kelley<!--#--></p><h3 class="text-[1.5rem] pb-2  dark:text-white"><!--node-id107-->Server Functions, Suspense, Enum Router, Overhauled Docs, Bundler, Android Support, and more!<!--#--></h3></div><div class="markdown-body px-2  dioxus-blog-post"><p data-node-hydration="108">Welcome back, get your snacks, Dioxus 0.4 just dropped.</p><p data-node-hydration="109">If you’re new here: Dioxus (dye•ox•us) is a library for building React-like user interface in Rust. Dioxus supports a ton of targets: web, desktop, mobile, TUI, and more.</p><p data-node-hydration="110">Dioxus 0.4 is adding support for the next frontier: the server backend.</p><p data-node-hydration="111">You can now write your entire fullstack web app in one file.</p><p data-node-hydration="112"><img src="/assets/04meme-99bbeb38d7edcd7a.webp" alt="meme" title="" data-node-hydration="113"/></p><p data-node-hydration="114">The gist of this release:</p><ul data-node-hydration="115"><li>Server functions</li><li>Server-compatible suspense</li><li>Overhauled (and beautiful!) interactive documentation</li><li>Overhauled and supercharged new router</li><li>First-party support for Android with new getting started guides</li><li>Backend-agnostic hooks for common app uses cases</li><li>Desktop Hot Reloading</li><li>Tauri-bundle built into the Dioxus CLI</li><li>Polish, bug fixes, stability, testing, and more!</li></ul><h2 id="weekly-office-hours" data-node-hydration="116"><a href="/blog/release-040#weekly-office-hours" class="header" data-node-hydration="117,click:1"><!--node-id118-->Weekly Office Hours<!--#--></a></h2><p data-node-hydration="119">Before we dive right into the bulk of this release, we want to make sure everyone knows that Dioxus Labs now has weekly office hours, every Friday at 9am PST.</p><p data-node-hydration="120">These are held on the community Discord - with an invite here:</p><p data-node-hydration="121"><a href="https://discord.gg/XgGxMSkvUM" rel="noopener noreferrer" data-node-hydration="122,click:1"><!--node-id123-->Join the Dioxus Labs Discord Server!<!--#--></a></p><p data-node-hydration="124">In the office hours you can get help with your app, learn how to contribute, get feedback on code, and <a href="https://www.notion.so/Dioxus-Labs-Public-Roadmap-771939f47d13423abe2a2195b5617555?pvs=21" rel="noopener noreferrer" data-node-hydration="125,click:1"><!--node-id126-->help shape the roadmap.<!--#--></a> We hope to see you there!</p><h2 id="server-functions" data-node-hydration="127"><a href="/blog/release-040#server-functions" class="header" data-node-hydration="128,click:1"><!--node-id129-->Server Functions<!--#--></a></h2><p data-node-hydration="130">These days, every cool UI library has some sort of backend framework to do server stuff. This could be interacting with a database, uploading files, working with websockets, you name it. With Dioxus 0.4, we’re adding our first backend solution: Server Functions.</p><p data-node-hydration="131">Server Functions are functions annotated with the  <code>server</code> procedural macro that generates an RPC client and server for your app. With a single function declaration, you get both the server endpoint <em>and</em> the client required to interact with the endpoint.</p><p data-node-hydration="132">For example, take this simple Server Function. We’re using the awesome <a href="https://github.com/trevyn/turbosql" rel="noopener noreferrer" data-node-hydration="133,click:1"><!--node-id134-->turbosql<!--#--></a> crate by <a href="https://github.com/trevyn" rel="noopener noreferrer" data-node-hydration="135,click:1"><!--node-id136-->trevyn<!--#--></a> to interact with a sqlite database to load a person’s username.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="137"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder138--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="139,click:1"><!--placeholder140--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="141"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="142"><pre style="background-color:#0d0d0d;">
<span style="color:#f8f8f2;">#[server]
</span><span style="color:#f8f8f2;">async </span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">get_username</span><span style="color:#f8f8f2;">() -&gt; Result&lt;String&gt; {
</span><span style="color:#f8f8f2;">	</span><span style="color:#8c8c8c;">// Using turbosql to extract some data from the DB
</span><span style="color:#f8f8f2;">	</span><span style="font-style:italic;color:#66d9ef;">Ok</span><span style="color:#f8f8f2;">(select!(</span><span style="font-style:italic;color:#66d9ef;">String </span><span style="color:#ffee99;">&quot;SELECT name FROM person&quot;</span><span style="color:#f8f8f2;">)</span><span style="color:#f92672;">?</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="143">The  <code>server</code> macro will generate a different helper function depending on the configuration flags of your project. If you build your project for the backend ( <code>server</code>), then your endpoint will be automatically injected into any axum/salvo/warp router created with  <code>dioxus_fullstack</code>. However, if you build your project with any other feature flag, like,  <code>client</code>, then the macro generates the <em>call</em> to the server.</p><p data-node-hydration="144"><img src="/assets/split_codegen-51ae4f7e922bfef2.webp" alt="Server / Client code splitting" title="" data-node-hydration="145"/></p><p data-node-hydration="146">This approach makes it easy to incrementally add new backend functionality to your app. Of course, this has some disadvantages - the backend is rather tightly coupled to the frontend - but for most apps, Server Functions will be a huge productivity win.</p><p data-node-hydration="147">Server Functions are agnostic to the backend framework you’re using, and support a number of generic operations common across axum, warp, and salvo. For instance, you can extract any header from the request, guarding on things like valid headers and cookies:</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="148"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder149--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="150,click:1"><!--placeholder151--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="152"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="153"><pre style="background-color:#0d0d0d;">
<span style="color:#f92672;">use </span><span style="color:#f8f8f2;">axum::{TypedHeader, headers::UserAgent};
</span><span style="color:#f92672;">use </span><span style="color:#f8f8f2;">dioxus_fullstack::extract;
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">#[server]
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">log_user_agent</span><span style="color:#f8f8f2;">() -&gt; ServerFnResult {
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> user_agent: TypedHeader&lt;UserAgent&gt; </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">extract</span><span style="color:#f8f8f2;">().await</span><span style="color:#f92672;">?</span><span style="color:#f8f8f2;">;
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">Ok</span><span style="color:#f8f8f2;">(())
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="154">You can attach middleware either at the server level or individually on server functions. The new fullstack utilities work seamlessly with <a href="https://docs.rs/tower/latest/tower/index.html" rel="noopener noreferrer" data-node-hydration="155,click:1"><!--node-id156-->Tower<!--#--></a>, so any server function can be annotated with a middleware.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="157"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder158--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="159,click:1"><!--placeholder160--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="161"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="162"><pre style="background-color:#0d0d0d;">
<span style="color:#8c8c8c;">// Add a timeout middleware to the server function that will return
</span><span style="color:#8c8c8c;">// an error if the function takes longer than 1 second to execute
</span><span style="color:#f8f8f2;">
</span><span style="color:#f92672;">use </span><span style="color:#f8f8f2;">std::time::Duration;
</span><span style="color:#f92672;">use </span><span style="color:#f8f8f2;">tower_http::timeout::TimeoutLayer;
</span><span style="color:#f92672;">use </span><span style="color:#f8f8f2;">tokio::time::sleep;
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">#[server]
</span><span style="color:#f8f8f2;">#[middleware(TimeoutLayer::new(Duration::from_secs(1)))]
</span><span style="color:#f92672;">pub</span><span style="color:#f8f8f2;"> async </span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">timeout</span><span style="color:#f8f8f2;">() -&gt; ServerFnResult {
</span><span style="color:#f8f8f2;">		</span><span style="color:#66d9ef;">sleep</span><span style="color:#f8f8f2;">(Duration::from_secs(</span><span style="color:#ff80f4;">2</span><span style="color:#f8f8f2;">)).await;
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">Ok</span><span style="color:#f8f8f2;">(())
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="163">Combining all these concepts together, you can quickly add features like Authentication to your fullstack app. We’ve put together a <a href="https://github.com/dioxuslabs/dioxus/blob/main/packages/fullstack/examples/axum-auth/src/main.rs" rel="noopener noreferrer" data-node-hydration="164,click:1"><!--node-id165-->simple axum-auth example for you to get started<!--#--></a>.</p><p data-node-hydration="166">Our goal with Server Functions is to lay the foundation for our final vision of Dioxus: a fullstack, crossplatform, fully typed, and lightning fast toolkit for building, deploying, monitoring, and scaling any app you can dream of. With one ecosystem, you can quickly build complete apps that run on desktop, mobile, web with a type-safe backend to boot.</p><h2 id="suspense" data-node-hydration="167"><a href="/blog/release-040#suspense" class="header" data-node-hydration="168,click:1"><!--node-id169-->Suspense<!--#--></a></h2><p data-node-hydration="170">One feature that has been missing in Dioxus since its release is the ability to wait for futures to complete before generating the final server-side-rendered HTML. Before, the expectation was that you’d load any data <em>ahead of time,</em> and pass in the data via Root Props. We quickly learned this caused issues with scalability: you might not want to fetch every piece of props depending on the route.</p><p data-node-hydration="171"><img src="/assets/old_fetch-1034be509637a12e.webp" alt="Diagram of how SSR data used to be fetched" title="" data-node-hydration="172"/></p><p data-node-hydration="173">To solve this, we’re adding future-compatible  <code>Suspense</code> - now integrated with Dioxus Fullstack and Server Functions.  Suspense is freely available to components via the  <code>cx.suspend()</code> method. Calling  <code>suspend</code> will tell Dioxus that this particular component is blocking the completion of the final render due to a pending future. The most basic usage of Suspense is pausing rendering until a data fetch has been completed:</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="174"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder175--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="176,click:1"><!--placeholder177--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="178"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="179"><pre style="background-color:#0d0d0d;">
<span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">Username</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	</span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> username </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">use_future</span><span style="color:#f8f8f2;">(cx, (), |_| </span><span style="color:#66d9ef;">get_username</span><span style="color:#f8f8f2;">());
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	</span><span style="color:#8c8c8c;">// Try to extract the current value of the future
</span><span style="color:#f8f8f2;">	</span><span style="font-style:italic;color:#66d9ef;">let Some</span><span style="color:#f8f8f2;">(username) </span><span style="color:#f92672;">=</span><span style="color:#f8f8f2;"> username.</span><span style="color:#66d9ef;">value</span><span style="color:#f8f8f2;">() </span><span style="color:#f92672;">else </span><span style="color:#f8f8f2;">{
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">		</span><span style="color:#8c8c8c;">// Early return and mark this component as suspended
</span><span style="color:#f8f8f2;">		</span><span style="color:#f92672;">return</span><span style="color:#f8f8f2;"> cx.</span><span style="color:#66d9ef;">suspend</span><span style="color:#f8f8f2;">();
</span><span style="color:#f8f8f2;">	}
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	render! { </span><span style="color:#ffee99;">&quot;Username: {username}&quot;</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="180">Now, we can do datafetching <em>inside</em> components, greatly simplifying our project structure. With the new <code>use_server_future</code> hook, we can persist the result of the fetch between server render and client render, allowing hydration to work seamlessly.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="181"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder182--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="183,click:1"><!--placeholder184--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="185"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="186"><pre style="background-color:#0d0d0d;">
<span style="color:#f8f8f2;">
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">Dashboard</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">    </span><span style="color:#8c8c8c;">// use_server_future will persist the result of this call during SSR
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> ip </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">use_server_future</span><span style="color:#f8f8f2;">(cx, (), |_| </span><span style="color:#66d9ef;">get_server_ip</span><span style="color:#f8f8f2;">())</span><span style="color:#f92672;">?</span><span style="color:#f8f8f2;">;
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">    render!{ </span><span style="color:#ffee99;">&quot;The edge node is {ip}&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// When used on the server, this is just a simple function call
</span><span style="color:#f8f8f2;">#[server]
</span><span style="color:#f8f8f2;">async </span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">get_server_ip</span><span style="color:#f8f8f2;">() -&gt; Result&lt;String&gt; {
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">Ok</span><span style="color:#f8f8f2;">(reqwest::get(</span><span style="color:#ffee99;">&quot;https://httpbin.org/ip&quot;</span><span style="color:#f8f8f2;">).await</span><span style="color:#f92672;">?</span><span style="color:#f8f8f2;">.</span><span style="color:#66d9ef;">text</span><span style="color:#f8f8f2;">().await</span><span style="color:#f92672;">?</span><span style="color:#f8f8f2;">)
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="187">With inline datafetching, we can greatly simplify the amount of work required to build fullstack apps. In this diagram of a Dioxus app with suspense, we can see that suspended components are marked yellow. When their futures completed, Dioxus will continue rendering them, cascading into their children until all futures have been resolved.</p><p data-node-hydration="188"><img src="/assets/new_fetch-906071438b3fcdf6.webp" alt="Diagram of how SSR data is fetched now" title="" data-node-hydration="189"/></p><p data-node-hydration="190">Adopting suspense and fullstack should be easy. Now, when you go to render the app, you can simply call  <code>wait_for_suspense()</code> before pre-rendering the markup:</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="191"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder192--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="193,click:1"><!--placeholder194--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="195"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="196"><pre style="background-color:#0d0d0d;">
<span style="font-style:italic;color:#66d9ef;">let </span><span style="color:#f92672;">mut</span><span style="color:#f8f8f2;"> app </span><span style="color:#f92672;">= </span><span style="color:#f8f8f2;">VirtualDom::new(app_fn);
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// Start the futures
</span><span style="color:#f8f8f2;">app.</span><span style="color:#66d9ef;">rebuild</span><span style="color:#f8f8f2;">();
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// Wait for suspended futures to complete
</span><span style="color:#f8f8f2;">app.</span><span style="color:#66d9ef;">wait_for_suspense</span><span style="color:#f8f8f2;">();
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// Now render the app out
</span><span style="color:#f8f8f2;">dioxus_ssr::prerender(</span><span style="color:#f92672;">&amp;</span><span style="color:#f8f8f2;">app);</span></pre>
</div></div><p data-node-hydration="197">Note that this is not 100% equivalent to React’s suspense as it’s not currently possible to render loading states or error boundaries. These features are currently experimental and will be stabilized during the 0.4 release cycle.</p><h2 id="enum-router" data-node-hydration="198"><a href="/blog/release-040#enum-router" class="header" data-node-hydration="199,click:1"><!--node-id200-->Enum Router<!--#--></a></h2><p data-node-hydration="201">Since the initial release of Dioxus, we’ve had a very simple App Router, inspired by the older versions of React Router. Most UI toolkits these days provide a Router object that interacts with the browser’s router, and to date, Dioxus’ router has been pretty simple.</p><p data-node-hydration="202">In the beginning we opted for simplicity and flexibility. The old router let you create route trees with just components. This router was easy to add new routes to and easy to compose.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="203"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder204--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="205,click:1"><!--placeholder206--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="207"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="208"><pre style="background-color:#0d0d0d;">
<span style="color:#f92672;">pub </span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">app</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">    render! {
</span><span style="color:#f8f8f2;">        Router {
</span><span style="color:#f8f8f2;">            Nav {}
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/&quot;</span><span style="color:#f8f8f2;">, Homepage {} }
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/awesome&quot;</span><span style="color:#f8f8f2;">, Awesome {}}
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/learn&quot;</span><span style="color:#f8f8f2;">, Learn {} }
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/tutorials/:id&quot;</span><span style="color:#f8f8f2;">, Tutorial {} }
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/blog&quot;</span><span style="color:#f8f8f2;">, BlogList {} }
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/blog/going-fulltime&quot;</span><span style="color:#f8f8f2;">, GoingFulltime {} }
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;/blog/release-030&quot;</span><span style="color:#f8f8f2;">, Release03 {} }
</span><span style="color:#f8f8f2;">            Route { to: </span><span style="color:#ffee99;">&quot;&quot;</span><span style="color:#f8f8f2;">, Err404 {} }
</span><span style="color:#f8f8f2;">        }
</span><span style="color:#f8f8f2;">        Footer {}
</span><span style="color:#f8f8f2;">    }
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="209">However, after thinking about the new features we wanted to add to Dioxus, we realized that this router design wouldn’t cut it in the future. We were lacking many crucial features like nested routes and type-safe URLs.</p><p data-node-hydration="210">So, we designed a new router built around the Rust  <code>enum</code>. Now, you assemble your app’s route by deriving the  <code>Routable</code> trait for a given enum. Routes are simply enum variants! Even better, everything is 100% typesafe. No longer can you craft invalid URLs - saving your apps from a whole host of problems.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="211"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder212--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="213,click:1"><!--placeholder214--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="215"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="216"><pre style="background-color:#0d0d0d;">
<span style="color:#f8f8f2;">#[derive(Clone, Routable, PartialEq, Eq, Serialize, Deserialize, Debug)]
</span><span style="font-style:italic;color:#66d9ef;">enum </span><span style="color:#f8f8f2;">Route {
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	#[redirect(</span><span style="color:#ffee99;">&quot;/platforms&quot;</span><span style="color:#f8f8f2;">, || Route::Homepage {})]
</span><span style="color:#f8f8f2;">	Homepage {},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/awesome&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	Awesome {},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/learn&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	Learn {},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/tutorials/:id&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	Tutorial { id: </span><span style="font-style:italic;color:#66d9ef;">usize </span><span style="color:#f8f8f2;">},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/blog&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	BlogList {},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/blog/:post&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	BlogPost { post: </span><span style="font-style:italic;color:#66d9ef;">String </span><span style="color:#f8f8f2;">},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/:..segments&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">  Err404 { segments: Vec&lt;String&gt; },
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="217">To render the new router, pass in your app’s Route enum as the generic type in the Router, and Dioxus will render the right component, given that the enum variant.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="218"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder219--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="220,click:1"><!--placeholder221--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="222"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="223"><pre style="background-color:#0d0d0d;">
<span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">app</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	render! { Router::&lt;Route&gt; {} }
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="224">The  <code>#[derive(Routable)]</code> will automatically generate the  <code>render</code> function for your Router. The Router will render the right route given that a similarly named component is in scope. You can override this yourself, or just stick with the default. The simplest app using the new router would look something like this:</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="225"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder226--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="227,click:1"><!--placeholder228--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="229"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="230"><pre style="background-color:#0d0d0d;">
<span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// 1. Declare our app&#39;s routes
</span><span style="color:#f8f8f2;">#[derive(Clone, Routable, PartialEq, Eq, Serialize, Deserialize)]
</span><span style="font-style:italic;color:#66d9ef;">enum </span><span style="color:#f8f8f2;">Route {
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	Homepage {},
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// 2. Make sure we have a component in scope that matches the enum variant
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">Homepage</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	render! { </span><span style="color:#ffee99;">&quot;Welcome home!&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// 3. Now render our app, using the Router and Route
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">app</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	render! { Router::&lt;Route&gt; {} }
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="231">Passing in attributes from the route itself is easy too. The  <code>Routable</code> macro will accept any fields that implement  <code>FromStr</code>, so you can easily add attributes, queries, and named parameters to your app.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="232"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder233--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="234,click:1"><!--placeholder235--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="236"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="237"><pre style="background-color:#0d0d0d;">
<span style="color:#8c8c8c;">// Declare our app&#39;s routes
</span><span style="color:#f8f8f2;">#[derive(Clone, Routable, PartialEq, Eq, Serialize, Deserialize)]
</span><span style="font-style:italic;color:#66d9ef;">enum </span><span style="color:#f8f8f2;">Route {
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/blog/:post&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">	BlogPost { post: </span><span style="font-style:italic;color:#66d9ef;">String </span><span style="color:#f8f8f2;">},
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">#[component]
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">BlogPost</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope, </span><span style="font-style:italic;color:#fd971f;">post</span><span style="color:#f8f8f2;">: String) {
</span><span style="color:#f8f8f2;">	render!{ </span><span style="color:#ffee99;">&quot;Currently viewing: {post}&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="238">Likewise, you can catch 404s using the trailing segments syntax.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="239"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder240--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="241,click:1"><!--placeholder242--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="243"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="244"><pre style="background-color:#0d0d0d;">
<span style="color:#8c8c8c;">// Declare our app&#39;s routes
</span><span style="color:#f8f8f2;">#[derive(Clone, Routable, PartialEq, Eq, Serialize, Deserialize)]
</span><span style="font-style:italic;color:#66d9ef;">enum </span><span style="color:#f8f8f2;">Route {
</span><span style="color:#f8f8f2;">	#[route(</span><span style="color:#ffee99;">&quot;/:..segments&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">  Err404 { segments: Vec&lt;String&gt; },
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="245">Another exciting feature is layouts. We’re borrowing this concept from popular frameworks like Remix and Next.JS. Layouts make it easy to wrap Route components together in a shared set of components. A common use case is wrapping your app in a Header, Footer, or Navbar. Without layouts, you’d have a lot of code duplication</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="246"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder247--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="248,click:1"><!--placeholder249--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="250"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="251"><pre style="background-color:#0d0d0d;">
<span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">Home</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	render! {
</span><span style="color:#f8f8f2;">		Header {}
</span><span style="color:#f8f8f2;">		Navbar {}
</span><span style="color:#f8f8f2;">		div { </span><span style="color:#ffee99;">&quot;actual home content&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">		Footer {}
</span><span style="color:#f8f8f2;">	}
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">Blog</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	render! {
</span><span style="color:#f8f8f2;">		Header {}
</span><span style="color:#f8f8f2;">		Navbar {}
</span><span style="color:#f8f8f2;">		div { </span><span style="color:#ffee99;">&quot;actual blog content&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">		Footer {}
</span><span style="color:#f8f8f2;">	}
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="252">Now, with layouts, you can declare your layout in the Route enum itself.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="253"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder254--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="255,click:1"><!--placeholder256--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="257"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="258"><pre style="background-color:#0d0d0d;">
<span style="color:#f8f8f2;">#[derive(Clone, Routable, PartialEq, Eq, Serialize, Deserialize)]
</span><span style="font-style:italic;color:#66d9ef;">enum </span><span style="color:#f8f8f2;">Route {
</span><span style="color:#f8f8f2;">  #[layout(HeaderFooterNav)]
</span><span style="color:#f8f8f2;">		#[route(</span><span style="color:#ffee99;">&quot;/&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">		Home {},
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">		#[route(</span><span style="color:#ffee99;">&quot;/blog/&quot;</span><span style="color:#f8f8f2;">)]
</span><span style="color:#f8f8f2;">		Blog {},
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="color:#8c8c8c;">// Wrap the rendered content of the Router with a header, navbar, and footer
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">HeaderFooterNav</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">	render! {
</span><span style="color:#f8f8f2;">		Header {}
</span><span style="color:#f8f8f2;">		Navbar {}
</span><span style="color:#f8f8f2;">		Outlet::&lt;Route&gt; {}
</span><span style="color:#f8f8f2;">		Footer {}
</span><span style="color:#f8f8f2;">	}
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="259">The new router was an absolutely massive amount of work, spearheaded by @TeFiLeDo, improved by @ealmloff, and made possible thanks to community members like @stephenandary and @attilio-oliva.</p><p data-node-hydration="260"><img src="/assets/enum_router-b7d47d850cee2413.webp" alt="PR of enum router" title="" data-node-hydration="261"/></p><h2 id="new-and-beautiful-interactive-docs" data-node-hydration="262"><a href="/blog/release-040#new-and-beautiful-interactive-docs" class="header" data-node-hydration="263,click:1"><!--node-id264-->New and beautiful interactive docs<!--#--></a></h2><p data-node-hydration="265">It’s about time we revamped our documentation. When we launched, the original docs were pretty good, at least for a 0.1 crate. Now, we have over 16 crates in the main repo with another half dozen scattered around the github organization. New users deserve a better introduction experience.</p><p data-node-hydration="266">To start, we revamped our landing page. Short, sweet, to the point.</p><p data-node-hydration="267"><img src="/assets/landing_1-ff9c43bfc69bf816.webp" alt="Screenshot of new doc site landing page" title="" data-node-hydration="268"/></p><p data-node-hydration="269">At the top of the page, you’ll see a new search bar. You can search for anything in our docs with just a  <code>ctrl+/</code> .  This new search functionality uses a <a href="https://github.com/dioxusLabs/dioxus-search" rel="noopener noreferrer" data-node-hydration="270,click:1"><!--node-id271-->new search crate we designed and built<!--#--></a>. <code>Dioxus-search</code> is fully crossplatform and ready to use in your next Dioxus app.</p><p data-node-hydration="272"><img src="/assets/landing_2-e483a05788ff6b40.webp" alt="Screenshot of new doc site search" title="" data-node-hydration="273"/></p><p data-node-hydration="274">Selecting any of the search results will take you straight to the docs page without bouncing out to an external mdbook.</p><p data-node-hydration="275"><img src="/assets/landing_3-308d42c2817e53f4.webp" alt="Screenshot of new doc site mdbook" title="" data-node-hydration="276"/></p><p data-node-hydration="277">We’ve added a bunch more content to the docs, including new pages like:</p><ul data-node-hydration="278"><li>Building a hackernews clone from scratch</li><li>Setup guides for mobile</li><li>Suggestions for useful crates</li><li>How to bundle your app</li><li>Working with server functions</li></ul><p data-node-hydration="279">The best part? The docs are interactive! Examples like the  <code>hello-world</code> and even the  <code>hackernews</code> clone come to life from within the docs page.</p><p data-node-hydration="280"><img src="/assets/landing_4-62abe86b5cf1d4c1.webp" alt="Screenshot of new doc site interactivity" title="" data-node-hydration="281"/></p><p data-node-hydration="282">We also moved the  <code>awesome</code> dioxus page from GitHub to the docsite, so you can explore the various crates that other developers have submitted as “awesome.”</p><p data-node-hydration="283"><img src="/assets/landing_5-8a8e8f7c2ee58d63.webp" alt="Screenshot of new doc site awesome page" title="" data-node-hydration="284"/></p><p data-node-hydration="285">The new docs leverage many of the amazing new features from the router, including:</p><ul data-node-hydration="286"><li></li></ul><h2 id="android-support-ios-fixes-getting-started-guide-for-mobile" data-node-hydration="287"><a href="/blog/release-040#android-support-ios-fixes-getting-started-guide-for-mobile" class="header" data-node-hydration="288,click:1"><!--node-id289-->Android Support, iOS fixes, Getting Started Guide for Mobile<!--#--></a></h2><p data-node-hydration="290">To date, Dioxus has provided first-party support for mobile via iOS, but our Android support has been rather spotty and untested. In this release, we finally added iOS and Android testing to our suite of continuous integration. To round off mobile support, we’ve added a <a href="https://dioxuslabs.com/learn/0.4/getting_started/mobile" rel="noopener noreferrer" data-node-hydration="291,click:1"><!--node-id292-->mobile-specific getting started guide<!--#--></a> with a walkthrough on setting up platform-specific dependencies, handling basic cross-compilation, and booting up a mobile simulator. We’ve also fixed some bugs in upstream libraries like Tauri’s Tao which gives Dioxus its window-creation capabilities.</p><p data-node-hydration="293">iOS Demo:</p><p data-node-hydration="294"><img src="/assets/ios_demo-8087565b9df5e308.webp" alt="Screenshot of xcode with dioxus app" title="" data-node-hydration="295"/></p><p data-node-hydration="296">Android Demo:</p><p data-node-hydration="297"><img src="/assets/android_demo-29081683c8a7cbc8.webp" alt="Screenshot of android studio with dioxus app" title="" data-node-hydration="298"/></p><h2 id="window-close-behavior" data-node-hydration="299"><a href="/blog/release-040#window-close-behavior" class="header" data-node-hydration="300,click:1"><!--node-id301-->Window-Close Behavior<!--#--></a></h2><p data-node-hydration="302">Another great contribution from the community: Dioxus desktop now provides functionality for managing the “close” behavior of windows in your app. We support three modes now:</p><ul data-node-hydration="303"><li>Closing the last window kills the app</li><li>Closing the last window doesn’t kill the app</li><li>Closing the last window simply hides the window (so the window can be cmd-tabbed back)</li></ul><p data-node-hydration="304"><video src="https://i.imgur.com/m4wJ6gN.mp4" title="" autoplay=true muted=true loop=true playsinline=true preload="metadata" style="alt:window_close.mov;" data-node-hydration="305"></video></p><h2 id="bidirectional-eval" data-node-hydration="306"><a href="/blog/release-040#bidirectional-eval" class="header" data-node-hydration="307,click:1"><!--node-id308-->Bidirectional Eval<!--#--></a></h2><p data-node-hydration="309">The use_eval hook allows you to run snippets of Javascript in your Dioxus application when needed. @doge has made some improvements that make this hook has significantly more powerful. The new version of the hook is compatible between the desktop, web, and Liveview renderers. It also allows you to send messages to and from Javascript asynchronously. This makes it possible to listen for Javascript events that Dioxus doesn’t officially support like the intersection observer API.</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="310"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder311--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="312,click:1"><!--placeholder313--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="314"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="315"><pre style="background-color:#0d0d0d;">
<span style="color:#f92672;">use </span><span style="color:#f8f8f2;">dioxus::prelude::</span><span style="color:#f92672;">*</span><span style="color:#f8f8f2;">;
</span><span style="color:#f8f8f2;">
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">main</span><span style="color:#f8f8f2;">() {
</span><span style="color:#f8f8f2;">    dioxus_desktop::launch(app);
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">app</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> eval </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">use_eval</span><span style="color:#f8f8f2;">(cx);
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> future </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">use_future</span><span style="color:#f8f8f2;">(cx, (), |_| {
</span><span style="color:#f8f8f2;">        to_owned![eval];
</span><span style="color:#f8f8f2;">        async </span><span style="color:#f92672;">move </span><span style="color:#f8f8f2;">{
</span><span style="color:#f8f8f2;">            </span><span style="color:#8c8c8c;">// Eval some javascript
</span><span style="color:#f8f8f2;">            </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> eval </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">eval</span><span style="color:#f8f8f2;">(
</span><span style="color:#f8f8f2;">                </span><span style="font-style:italic;color:#66d9ef;">r</span><span style="color:#ffee99;">#&quot;dioxus.send(&quot;Hi from JS!&quot;);
</span><span style="color:#ffee99;">                let msg = await dioxus.recv();
</span><span style="color:#ffee99;">                console.log(msg);
</span><span style="color:#ffee99;">                return &quot;hello world&quot;;&quot;#</span><span style="color:#f8f8f2;">,
</span><span style="color:#f8f8f2;">            )
</span><span style="color:#f8f8f2;">            .</span><span style="color:#66d9ef;">unwrap</span><span style="color:#f8f8f2;">();
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">            </span><span style="color:#8c8c8c;">// Send messages into the running javascript
</span><span style="color:#f8f8f2;">            eval.</span><span style="color:#66d9ef;">send</span><span style="color:#f8f8f2;">(</span><span style="color:#ffee99;">&quot;Hi from Rust!&quot;</span><span style="color:#f8f8f2;">.</span><span style="color:#66d9ef;">into</span><span style="color:#f8f8f2;">()).</span><span style="color:#66d9ef;">unwrap</span><span style="color:#f8f8f2;">();
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">            </span><span style="color:#8c8c8c;">// Receive messages from the javascript
</span><span style="color:#f8f8f2;">            </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> res </span><span style="color:#f92672;">=</span><span style="color:#f8f8f2;"> eval.</span><span style="color:#66d9ef;">recv</span><span style="color:#f8f8f2;">().await.</span><span style="color:#66d9ef;">unwrap</span><span style="color:#f8f8f2;">();
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">            </span><span style="color:#8c8c8c;">// Wait for it to complete
</span><span style="color:#f8f8f2;">            println!(</span><span style="color:#ffee99;">&quot;</span><span style="color:#ff80f4;">{:?}</span><span style="color:#ffee99;">&quot;</span><span style="color:#f8f8f2;">, eval.await);
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">            res
</span><span style="color:#f8f8f2;">        }
</span><span style="color:#f8f8f2;">    });
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">    render!{ </span><span style="color:#ffee99;">&quot;{future.value():?}&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><h2 id="new-onmount-event" data-node-hydration="316"><a href="/blog/release-040#new-onmount-event" class="header" data-node-hydration="317,click:1"><!--node-id318-->New onmount event<!--#--></a></h2><p data-node-hydration="319">This release also introduces a new onmounted event that provides access to elements after they are created in a cross platform way. The onmounted event makes it possible to:</p><ul data-node-hydration="320"><li>Scroll to an element</li><li>Read the size of an element</li><li>Focus an element</li><li>Get the platform specific element</li></ul><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="321"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder322--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="323,click:1"><!--placeholder324--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="325"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="326"><pre style="background-color:#0d0d0d;">
<span style="color:#f92672;">use </span><span style="color:#f8f8f2;">dioxus::prelude::</span><span style="color:#f92672;">*</span><span style="color:#f8f8f2;">;
</span><span style="color:#f8f8f2;">
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">main</span><span style="color:#f8f8f2;">() {
</span><span style="color:#f8f8f2;">    dioxus_desktop::launch(app);
</span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">
</span><span style="font-style:italic;color:#66d9ef;">fn </span><span style="color:#a6e22e;">app</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#fd971f;">cx</span><span style="color:#f8f8f2;">: Scope) -&gt; Element {
</span><span style="color:#f8f8f2;">    </span><span style="font-style:italic;color:#66d9ef;">let</span><span style="color:#f8f8f2;"> header_element </span><span style="color:#f92672;">= </span><span style="color:#66d9ef;">use_state</span><span style="color:#f8f8f2;">(cx, || </span><span style="font-style:italic;color:#66d9ef;">None</span><span style="color:#f8f8f2;">);
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">    cx.</span><span style="color:#66d9ef;">render</span><span style="color:#f8f8f2;">(rsx!(
</span><span style="color:#f8f8f2;">        div {
</span><span style="color:#f8f8f2;">            h1 {
</span><span style="color:#f8f8f2;">                onmounted: </span><span style="color:#f92672;">move |</span><span style="color:#f8f8f2;">cx</span><span style="color:#f92672;">| </span><span style="color:#f8f8f2;">{
</span><span style="color:#f8f8f2;">                    header_element.</span><span style="color:#66d9ef;">set</span><span style="color:#f8f8f2;">(</span><span style="font-style:italic;color:#66d9ef;">Some</span><span style="color:#f8f8f2;">(cx.</span><span style="color:#66d9ef;">inner</span><span style="color:#f8f8f2;">().</span><span style="color:#66d9ef;">clone</span><span style="color:#f8f8f2;">()));
</span><span style="color:#f8f8f2;">                },
</span><span style="color:#f8f8f2;">                </span><span style="color:#ffee99;">&quot;Scroll to top example&quot;
</span><span style="color:#f8f8f2;">            }
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">            </span><span style="color:#f92672;">for</span><span style="color:#f8f8f2;"> i </span><span style="color:#f92672;">in </span><span style="color:#ff80f4;">0</span><span style="color:#f92672;">..</span><span style="color:#ff80f4;">40 </span><span style="color:#f8f8f2;">{
</span><span style="color:#f8f8f2;">                div { </span><span style="color:#ffee99;">&quot;Item {i}&quot; </span><span style="color:#f8f8f2;">}
</span><span style="color:#f8f8f2;">            }
</span><span style="color:#f8f8f2;">
</span><span style="color:#f8f8f2;">            button {
</span><span style="color:#f8f8f2;">                onclick: </span><span style="color:#f92672;">move |_| </span><span style="color:#f8f8f2;">{
</span><span style="color:#f8f8f2;">                    </span><span style="color:#f92672;">if </span><span style="font-style:italic;color:#66d9ef;">let Some</span><span style="color:#f8f8f2;">(header) </span><span style="color:#f92672;">=</span><span style="color:#f8f8f2;"> header_element.</span><span style="color:#66d9ef;">as_ref</span><span style="color:#f8f8f2;">() {
</span><span style="color:#f8f8f2;">                        header.</span><span style="color:#66d9ef;">scroll_to</span><span style="color:#f8f8f2;">(ScrollBehavior::Smooth);
</span><span style="color:#f8f8f2;">                    }
</span><span style="color:#f8f8f2;">                },
</span><span style="color:#f8f8f2;">                </span><span style="color:#ffee99;">&quot;Scroll to top&quot;
</span><span style="color:#f8f8f2;">            }
</span><span style="color:#f8f8f2;">        }
</span><span style="color:#f8f8f2;">    ))
</span><span style="color:#f8f8f2;">}</span></pre>
</div></div><p data-node-hydration="327"><video src="https://i.imgur.com/yp7GyIf.mp4" title="" autoplay=true muted=true loop=true playsinline=true preload="metadata" style="alt:Scroll demo;" data-node-hydration="328"></video></p><h2 id="renaming-dioxus-cli-to-dx" data-node-hydration="329"><a href="/blog/release-040#renaming-dioxus-cli-to-dx" class="header" data-node-hydration="330,click:1"><!--node-id331-->Renaming dioxus-cli to dx<!--#--></a></h2><p data-node-hydration="332">We made a small tweak to the CLI this release to rename the CLI from  <code>dioxus</code> to  <code>dx</code>. This is a tiny change but has a few benefits:</p><ul data-node-hydration="333"><li>It’s faster to type</li><li>It emphasizes the <em>developer experience</em> of Dioxus</li><li>It keeps our tooling agnostic to other projects that might want to take advantage of features like hotreloading, autoformatting, wasm-pack, tailwind integration, plugins, and more.</li></ul><p data-node-hydration="334">To install the new CLI, use the same old instructions:</p><div class="border overflow-hidden rounded-md border-gray-300 dark:border-gray-700 mb-8" data-node-hydration="335"><div class="w-full bg-red flex flex-row justify-between border-b border-gray-300 dark:border-gray-700 py-1 px-2 text-xs items-center bg-gray-100 dark:bg-ideblack"><div class="font-mono"><!--placeholder336--></div><button class="hover:text-blue-600 flex flex-row items-center gap-1 " onclick="navigator.clipboard.writeText(this.parentNode.parentNode.lastChild.innerText);" data-node-hydration="337,click:1"><!--placeholder338--><span><svg width="24" height="24" stroke-width="1.5" fill="none" stroke="currentColor" data-node-hydration="339"><path d="M8 16c0 1.886 0 2.828.586 3.414C9.172 20 10.114 20 12 20h4c1.886 0 2.828 0 3.414-.586C20 18.828 20 17.886 20 16v-4c0-1.886 0-2.828-.586-3.414C18.828 8 17.886 8 16 8m-8 8h4c1.886 0 2.828 0 3.414-.586C16 14.828 16 13.886 16 12V8m-8 8c-1.886 0-2.828 0-3.414-.586C4 14.828 4 13.886 4 12V8c0-1.886 0-2.828.586-3.414C5.172 4 6.114 4 8 4h4c1.886 0 2.828 0 3.414.586C16 5.172 16 6.114 16 8"></path></svg></span></button></div><div class="codeblock" data-node-hydration="340"><pre style="background-color:#0d0d0d;">
<span style="color:#f8f8f2;">cargo install dioxus</span><span style="color:#f92672;">-</span><span style="color:#f8f8f2;">cli </span><span style="color:#f92672;">--</span><span style="color:#f8f8f2;">force</span></pre>
</div></div><h2 id="hot-reloading-for-desktop" data-node-hydration="341"><a href="/blog/release-040#hot-reloading-for-desktop" class="header" data-node-hydration="342,click:1"><!--node-id343-->Hot Reloading for Desktop<!--#--></a></h2><p data-node-hydration="344">Yet another small tweak the CLI: you can now use  <code>dx serve</code> on desktop apps with hot reloading enabled! Using the same hot reloading engine that powers web,  <code>dx serve</code> can now modify your currently-running desktop without causing a full rebuild. In the event that we can’t hot reload a particular change, then  <code>dx serve</code> will shutdown the app and restart it with the new changes applied.</p><p data-node-hydration="345"><video src="https://i.imgur.com/ML93XtT.mp4" title="" autoplay=true muted=true loop=true playsinline=true preload="metadata" style="alt:Hotreloading on desktop;" data-node-hydration="346"></video></p><h2 id="dioxus-bundle" data-node-hydration="347"><a href="/blog/release-040#dioxus-bundle" class="header" data-node-hydration="348,click:1"><!--node-id349-->Dioxus-Bundle<!--#--></a></h2><p data-node-hydration="350">So far, the CLI has supported useful commands like  <code>dx fmt</code> ,  <code>dx build</code> ,  <code>dx serve</code> . Until date, we haven’t provided a command to build a final distributable image of your app. In 0.4, we’re incorporating cargo-bundle support into the Dioxus CLI. Now, from the Dioxus CLI, you can bundle your app using the same configuration options as the Tauri bundler, making it easy to migrate existing projects over.  <code>dx bundle</code> supports bundling apps for macOS, iOS, Windows, and Linux (.deb, .rpm).</p><p data-node-hydration="351"><img src="/assets/bundle-9fec496d805e7383.webp" alt="A bundled app on macos" title="" data-node-hydration="352"/></p><p data-node-hydration="353">This is a great place for new contributors to help flesh out the ecosystem!</p><h2 id="dioxus-check" data-node-hydration="354"><a href="/blog/release-040#dioxus-check" class="header" data-node-hydration="355,click:1"><!--node-id356-->Dioxus-Check<!--#--></a></h2><p data-node-hydration="357">The Dioxus CLI has a new helper command:  <code>dx check</code>. Thanks to the work from community member @eventualbuddha,  <code>dx check</code> will now identify and help mitigate issues like hooks being called inside conditionals and loops.</p><p data-node-hydration="358"><img src="/assets/dxcheck-f8819775664b1551.webp" alt="The new check command for dx" title="" data-node-hydration="359"/></p><p data-node-hydration="360">These lints make it easier for newcomers to Dioxus to get started, especially if they’re not super familiar with React.</p><h2 id="vscode-extension-updates" data-node-hydration="361"><a href="/blog/release-040#vscode-extension-updates" class="header" data-node-hydration="362,click:1"><!--node-id363-->VSCode Extension Updates<!--#--></a></h2><p data-node-hydration="364">As part of improving stability and fixing bugs, we’ve made some improvements to the VSCode Extension.</p><ul data-node-hydration="365"><li>We fixed a bug with activation events where the extension wouldn’t activate until one of the commands were manually fired</li><li>We fixed a handful of autoformatting bugs around event handlers</li><li>We’ve moved the code for the extension out of the CLI and into a small WebAssembly binary so you don’t need the CLI installed and version matched</li></ul><p data-node-hydration="366"><img src="/assets/extension-65d00fee26f62118.webp" alt="The Dioxus VSCode extension page" title="" data-node-hydration="367"/></p><p data-node-hydration="368">The extension is a great place for new contributors to dive into the Dioxus codebase!</p><h2 id="general-fixes" data-node-hydration="369"><a href="/blog/release-040#general-fixes" class="header" data-node-hydration="370,click:1"><!--node-id371-->General Fixes<!--#--></a></h2><ul data-node-hydration="372"><li>Several SSR and Hydration bugs were fixed including escaping text, and</li><li>We have improved testing around Dioxus. We have added end to end tests for each platform and fuzzing tests for core libraries.</li><li>Fix the provide context docs</li><li>Fix trait bounds on generics with component</li><li>Fix hot reloading in a workspace</li><li>Fix anchor link for block-level elements</li><li>Fix Guide link in README</li><li>Fix new Clippy lints</li><li>Fix event bubbling within a single template</li><li>Fix panic when waking future on shutdown</li><li>Fix style attributes in SSR</li><li>Fix more complex workspaces with hot reloading</li><li>Fix non-bubbling listener hydration</li><li>Hotfix wry segfaulting</li><li>Fix dangerous_inner_html with SSR</li><li>Fix Linux Wry dependencies</li><li>Fix native core dependencies in a different direction than the pass direction</li><li>Fix raw attribute values in SSR</li><li>fix: Update logos and custom assets example</li><li>Fix non-ascii string decoding</li><li>fix rng in svg dice example</li><li>Fix clippy in the generic component example</li><li>fix: change crossterm poll timeout to 10ms from 1s</li><li>Fix HTML to RSX conversions example</li><li>Fix LiveView Tokio features</li><li>Fix non-bubbling event propagation</li><li>Fix selected and checked with boolean attributes</li><li>Fix form events with select multiple</li><li>Fix click and input events on desktop</li><li>Fix the link to tui widgets in the guide</li><li>Fix duplicate example and test names</li><li>fix router book link</li><li>Fix web events starting on a text node</li><li>Fix links in Liveview</li><li>Fix URL encoded desktop assets</li><li>Fix ssr guide examples</li><li>Fix hot reloading with namespaces</li><li>Add initial_value attribute &amp; fix static special attribute handling</li><li>Fix liveview interpreter JS</li><li>Fix autoformatting raw strings</li><li>Fix panic when events trigger on placeholders</li><li>fix: Remove dbg that was causing TUI rendering problems</li><li>Fix restarting MacOs hot reloading after a forced exit</li><li>Fix <code>cargo doc</code></li><li>Fix: Remove play button from guide example</li><li>Fix: bump liveview salvo version to 0.44.1. (#1124)</li><li>fix: Remove conflicting rustfmt config for cli</li><li>fix(docs): Fix dioxus-hooks crate description</li><li>Fix CLI testing issue</li><li>Fix boolean attributes with raw boolean values</li><li>fix: Properly drop UseFuture&#x27;s values to avoid leaking memory</li><li>Fix the onload event</li><li>fix: Fix stop_propagation example</li><li>Fix playwrite tests</li><li>Fix playwright fullstack clippy</li><li>fix: readme awesome link</li><li>fix: Remove duplicated doc links and improved some descriptions</li><li>Fix the issue of duplicate unique ID for atoms using <code>newtype</code>.</li><li>fix(cli): improve error message for invalid config</li><li>fix: Update use_ref docs</li><li>Fix playwright (again) and move the playwright stuff into the playwright directory</li><li>Fix: dont use bumpslab anymore, just box scopestates</li><li>Fix race condition in use_future</li><li>Fix use_future always spawning a new task and never updating</li><li>Fix route prerendering</li><li>fix: Use correct cfg for file_watcher feature in dioxus-hot-reload</li><li>docs(clean): fix copy-paste docs from <code>build</code></li><li>fix: Update use_coroutine example</li><li>fix(playwright): remove unnecessary <code>await</code>s</li><li>Fix all broken examples</li><li>Fix root component suspense</li></ul></div></div><div class="overflow-y-auto hidden xl:block top-28 px-2 h-full md:text-[14px] leading-5 text-gray-600 max-h-[calc(100vh_-_calc(var(--spacing)_*_28))] w-48 sticky  dark:text-gray-400 pt-1" data-node-hydration="373"><div class="border-b border-gray-300 pb-2 dark:border-[#a4a9ac7d]"><h2 class="pb-2 font-semibold text-gray-600 dark:text-gray-100">On this page</h2><ul><li class="pb-2      " data-node-hydration="374"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#server-functions" data-node-hydration="375"><!--node-id376-->Server Functions<!--#--></a></li><li class="pb-2      " data-node-hydration="377"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#suspense" data-node-hydration="378"><!--node-id379-->Suspense<!--#--></a></li><li class="pb-2      " data-node-hydration="380"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#enum-router" data-node-hydration="381"><!--node-id382-->Enum Router<!--#--></a></li><li class="pb-2      " data-node-hydration="383"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#new-and-beautiful-interactive-docs" data-node-hydration="384"><!--node-id385-->New and beautiful interactive docs<!--#--></a></li><li class="pb-2      " data-node-hydration="386"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#android-support-ios-fixes-getting-started-guide-for-mobile" data-node-hydration="387"><!--node-id388-->Android Support, iOS fixes, Getting Started Guide for Mobile<!--#--></a></li><li class="pb-2      " data-node-hydration="389"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#window-close-behavior" data-node-hydration="390"><!--node-id391-->Window-Close Behavior<!--#--></a></li><li class="pb-2      " data-node-hydration="392"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#bidirectional-eval" data-node-hydration="393"><!--node-id394-->Bidirectional Eval<!--#--></a></li><li class="pb-2      " data-node-hydration="395"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#new-onmount-event" data-node-hydration="396"><!--node-id397-->New onmount event<!--#--></a></li><li class="pb-2      " data-node-hydration="398"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#renaming-dioxus-cli-to-dx" data-node-hydration="399"><!--node-id400-->Renaming dioxus-cli to dx<!--#--></a></li><li class="pb-2      " data-node-hydration="401"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#hot-reloading-for-desktop" data-node-hydration="402"><!--node-id403-->Hot Reloading for Desktop<!--#--></a></li><li class="pb-2      " data-node-hydration="404"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#dioxus-bundle" data-node-hydration="405"><!--node-id406-->Dioxus-Bundle<!--#--></a></li><li class="pb-2      " data-node-hydration="407"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#dioxus-check" data-node-hydration="408"><!--node-id409-->Dioxus-Check<!--#--></a></li><li class="pb-2      " data-node-hydration="410"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#vscode-extension-updates" data-node-hydration="411"><!--node-id412-->VSCode Extension Updates<!--#--></a></li><li class="pb-2      " data-node-hydration="413"><a class="hover:text-sky-500 dark:hover:text-sky-400" href="#general-fixes" data-node-hydration="414"><!--node-id415-->General Fixes<!--#--></a></li></ul></div><h2 class="py-4 "><a href="https://github.com/DioxusLabs/docsite" class="flex flex-row items-center gap-x-1" data-node-hydration="416">Edit this page<svg style="color: currentcolor; width: 14px; height: 14px;" fill="none" stroke="currentColor" stroke-linejoin="round" shape-rendering="geometricPrecision" width="24" stroke-width="1.5" data-testid="geist-icon" height="24" stroke-linecap="round" viewBox="0 0 24 24" data-node-hydration="417"><path d="M7 17L17 7"></path><path d="M7 7h10v10"></path></svg></a></h2></div></div></section><footer class="text-gray-700 dark:text-gray-400 w-full mx-auto max-w-screen-xl px-2" data-node-hydration="418"><div class="py-8 md:py-24 flex flex-wrap justify-evenly items-start lg:items-start md:flex-row md:flex-nowrap  gap-x-24 gap-y-8 mx-auto"><div data-node-hydration="419"><h2 class="text-md mb-3 text-black dark:text-gray-100"><!--node-id420-->Community<!--#--></h2><nav class="list-none font-extralight "><ul class="space-y-2"><li data-node-hydration="421"><a class="" href="https://github.com/dioxuslabs" data-node-hydration="422"><!--node-id423-->Github<!--#--></a></li><li data-node-hydration="424"><a class="" href="https://discord.gg/XgGxMSkvUM" data-node-hydration="425"><!--node-id426-->Discord<!--#--></a></li><li data-node-hydration="427"><a class="" href="https://twitter.com/dioxuslabs" data-node-hydration="428"><!--node-id429-->Twitter<!--#--></a></li><li data-node-hydration="430"><a class="" href="https://www.youtube.com/@DioxusLabs" data-node-hydration="431"><!--node-id432-->YouTube<!--#--></a></li></ul></nav></div><div data-node-hydration="433"><h2 class="text-md mb-3 text-black dark:text-gray-100"><!--node-id434-->Resources<!--#--></h2><nav class="list-none font-extralight "><ul class="space-y-2"><li data-node-hydration="435"><a class="" href="https://docs.rs/dioxus" data-node-hydration="436"><!--node-id437-->docs.rs<!--#--></a></li><li data-node-hydration="438"><a class="" href="https://crates.io/crates/dioxus" data-node-hydration="439"><!--node-id440-->crates.io<!--#--></a></li><li data-node-hydration="441"><a class="" href="/learn/0.6/guide" data-node-hydration="442"><!--node-id443-->Guide<!--#--></a></li><li data-node-hydration="444"><a class="" href="/awesome" data-node-hydration="445"><!--node-id446-->Awesome<!--#--></a></li><li data-node-hydration="447"><a class="" href="/playground" data-node-hydration="448"><!--node-id449-->Playground<!--#--></a></li></ul></nav></div><div data-node-hydration="450"><h2 class="text-md mb-3 text-black dark:text-gray-100"><!--node-id451-->Projects<!--#--></h2><nav class="list-none font-extralight "><ul class="space-y-2"><li data-node-hydration="452"><a class="" href="https://github.com/DioxusLabs/dioxus" data-node-hydration="453"><!--node-id454-->Dioxus<!--#--></a></li><li data-node-hydration="455"><a class="" href="https://github.com/DioxusLabs/dioxus/tree/main/packages/cli" data-node-hydration="456"><!--node-id457-->CLI<!--#--></a></li><li data-node-hydration="458"><a class="" href="https://github.com/DioxusLabs/taffy" data-node-hydration="459"><!--node-id460-->Taffy<!--#--></a></li><li data-node-hydration="461"><a class="" href="https://github.com/DioxusLabs/blitz" data-node-hydration="462"><!--node-id463-->Blitz<!--#--></a></li><li data-node-hydration="464"><a class="" href="https://github.com/DioxusLabs/sdk" data-node-hydration="465"><!--node-id466-->SDK<!--#--></a></li></ul></nav></div><div class="text-left md:text-left"><a class="flex items-center gap-1" href="https://github.com/DioxusLabs"><div><span class="text-lg font-mono dark:text-gray-100">DIOXUS</span></div><img src="https://avatars.githubusercontent.com/u/79236386?s=200&v=4" class="h-6 w-auto" alt="Dioxus Labs Icon"/></a><span class="text-xs">Build cool things ✌️</span></div></div><div class="text-gray-400 text-sm text-center sm:text-left pb-2 mx-auto">© 2024 Dioxus Labs</div></footer></div></div><script>window.initial_dioxus_hydration_data="joEY9oEY9YEY9YEY9YEY9YEY9YEY9YEY9YEY9YEY9YEY9YEY9YEY9YEY9Q==";</script></div>
  <script>
            // We can't use a module script here because we need to start the script immediately when streaming
            import("/./assets/dioxus_docs_site-b06236b6360b30c3.js").then(
                ({ default: init }) => {
                init("/./assets/dioxus_docs_site_bg-439d6f8277d3068c.wasm").then((wasm) => {
                    if (wasm.__wbindgen_start == undefined) {
                    wasm.main();
                    }
                });
                }
            );
            </script>
            
            </body>
</html>
